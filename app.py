import http.client

region_code = "us-south"
iam_token = "eeyJraWQiOiIyMDE5MDcyNCIsImFsZyI6IlJTMjU2In0.eyJpYW1faWQiOiJJQk1pZC02OTYwMDE5R09TIiwiaWQiOiJJQk1pZC02OTYwMDE5R09TIiwicmVhbG1pZCI6IklCTWlkIiwianRpIjoiYzYyMjdjYzYtODk2MS00ZTU5LTgzZWUtYzRlZGQ2ZDhkY2ZlIiwiaWRlbnRpZmllciI6IjY5NjAwMTlHT1MiLCJnaXZlbl9uYW1lIjoiU2FpaWRhdHVsIEltYW4iLCJmYW1pbHlfbmFtZSI6IkFobWFkIEhhem1hbiIsIm5hbWUiOiJTYWlpZGF0dWwgSW1hbiBBaG1hZCBIYXptYW4iLCJlbWFpbCI6InNhaWlkYXR1bGltYW4xMjNAZ21haWwuY29tIiwic3ViIjoic2FpaWRhdHVsaW1hbjEyM0BnbWFpbC5jb20iLCJhdXRobiI6eyJzdWIiOiJzYWlpZGF0dWxpbWFuMTIzQGdtYWlsLmNvbSIsImlhbV9pZCI6IklCTWlkLTY5NjAwMTlHT1MiLCJuYW1lIjoiU2FpaWRhdHVsIEltYW4gQWhtYWQgSGF6bWFuIiwiZ2l2ZW5fbmFtZSI6IlNhaWlkYXR1bCBJbWFuIiwiZmFtaWx5X25hbWUiOiJBaG1hZCBIYXptYW4iLCJlbWFpbCI6InNhaWlkYXR1bGltYW4xMjNAZ21haWwuY29tIn0sImFjY291bnQiOnsidmFsaWQiOnRydWUsImJzcyI6Ijc2MjlkZGI0MTU1ZDRjNzQ4NzBkZmU0ODVkZTBmNGY0IiwiaW1zX3VzZXJfaWQiOiIxNDc1ODg1MiIsImZyb3plbiI6dHJ1ZSwiaW1zIjoiMjk5NjI3MiJ9LCJpYXQiOjE3NjM4OTQ4NTksImV4cCI6MTc2Mzg5ODQ1OSwiaXNzIjoiaHR0cHM6Ly9pYW0uY2xvdWQuaWJtLmNvbS9pZGVudGl0eSIsImdyYW50X3R5cGUiOiJ1cm46aWJtOnBhcmFtczpvYXV0aDpncmFudC10eXBlOmFwaWtleSIsInNjb3BlIjoiaWJtIG9wZW5pZCIsImNsaWVudF9pZCI6ImRlZmF1bHQiLCJhY3IiOjEsImFtciI6WyJwd2QiXX0.ol1olTXpqDbicUu0MPOqL5YOQ8gBEiyBL_zLZy5UElbFr6Hoa9zobPvLEV26VQ3aurKhEoGeBPicCpHtE9mvy1enSAgVzskg3Phw8b3pGj7LtgKGPjf0DIzWEdt3lyNh3ZXVEmnl7YSlRylvtJsHrb4_DvVYqFgJvK_AqciU0ASX7zxLwp3aZdhXpiQdqXLD3D1Zd0R8w6_CfsRpOU6bRYNMhCVzg-Gqxwm3stvSBJDO5LOBSRlPOK692nwMgouSXs-NTYGwWBhcVgyFzR8umSMS7rYX5sKfskynJzK5A9mlALfsKA0WTPAjHBxwQ8G_iq22530hFEHSiz2Q_GuSZg"
instance_id = "b8a5b2db-cea0-462e-9710-31ab94803f7f"  # only the ID, not the full URL

conn = http.client.HTTPSConnection(f"api.{region_code}.watson-orchestrate.ibm.com")

headers = {
    "Authorization": f"Bearer {iam_token}",
    "accept": "application/json"
}

conn.request("GET", f"/instances/{instance_id}/v1/orchestrate/digital-employees/allskills", headers=headers)

res = conn.getresponse()
data = res.read()

print(data.decode("utf-8"))
